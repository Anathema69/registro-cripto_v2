<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Descargar Reportes</title>
    <link rel="stylesheet" href="styles/download-panel.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<body>
<div class="download-container">
    <aside class="sidebar">
        <h2>Panel de Admin</h2>
        <nav>
            <ul>
                <li>
                    <button onclick="window.location.href='admin-panel.html'">
                        <img src="icon/panel_new_user.png" class="sidebar-icon" alt="Crear Usuario">
                        Crear nuevos usuarios
                    </button>
                </li>
                <li>
                    <button class="active">
                        <img src="icon/panel_download.png" class="sidebar-icon" alt="Descargar Reportes">
                        Descargar reportes
                    </button>
                </li>
            </ul>
        </nav>
    </aside>

    <main class="download-content">
        <header class="admin-header">
            <h1>Bienvenido: <span id="userName"></span></h1>
            <button class="btn-logout" id="logoutBtn">Cerrar sesi√≥n</button>
        </header>

        <section class="download-section">
            <h2>Descargar Reportes</h2>
            <form class="download-form" id="downloadForm">
                <label>Buscar usuarios:</label>
                <input type="text" id="searchUser" placeholder="Escribe para filtrar usuarios...">

                <label>Seleccionar Usuarios:</label>
                <div class="multi-select-dropdown" id="userDropdown">
                    <div tabindex="0" class="multi-select-dropdown-header" id="userDropdownHeader">
                        Seleccione usuarios
                    </div>
                    <div class="multi-select-dropdown-list" id="userDropdownList">
                        <!-- Users will be dynamically added here -->
                    </div>
                </div>
                <div id="selectedUsersDisplay" class="selected-users-display"></div>

                <div class="date-range">
                    <div class="date-field">
                        <label for="fechaInicioDia">Fecha Inicio:</label>
                        <div class="date-separate">
                            <input type="text" id="fechaInicioDia" placeholder="DD" class="date-input" maxlength="2">
                            <div class="custom-month-select">
                                <button type="button" class="custom-month-trigger">
                                    <span id="selectedInicioMes">Mes</span>
                                </button>
                                <div class="custom-month-dropdown">
                                    <button type="button" data-value="1">Enero</button>
                                    <button type="button" data-value="2">Febrero</button>
                                    <button type="button" data-value="3">Marzo</button>
                                    <button type="button" data-value="4">Abril</button>
                                    <button type="button" data-value="5">Mayo</button>
                                    <button type="button" data-value="6">Junio</button>
                                    <button type="button" data-value="7">Julio</button>
                                    <button type="button" data-value="8">Agosto</button>
                                    <button type="button" data-value="9">Septiembre</button>
                                    <button type="button" data-value="10">Octubre</button>
                                    <button type="button" data-value="11">Noviembre</button>
                                    <button type="button" data-value="12">Diciembre</button>
                                </div>
                            </div>
                            <input type="text" id="fechaInicioAnio" placeholder="AAAA" class="date-input" maxlength="4">
                            <input type="hidden" id="fechaInicioMesHidden">
                        </div>
                    </div>
                    <div class="date-field">
                        <label for="fechaFinDia">Fecha Fin:</label>
                        <div class="date-separate">
                            <input type="text" id="fechaFinDia" placeholder="DD" class="date-input" maxlength="2">
                            <div class="custom-month-select">
                                <button type="button" class="custom-month-trigger">
                                    <span id="selectedFinMes">Mes</span>
                                </button>
                                <div class="custom-month-dropdown">
                                    <button type="button" data-value="1">Enero</button>
                                    <button type="button" data-value="2">Febrero</button>
                                    <button type="button" data-value="3">Marzo</button>
                                    <button type="button" data-value="4">Abril</button>
                                    <button type="button" data-value="5">Mayo</button>
                                    <button type="button" data-value="6">Junio</button>
                                    <button type="button" data-value="7">Julio</button>
                                    <button type="button" data-value="8">Agosto</button>
                                    <button type="button" data-value="9">Septiembre</button>
                                    <button type="button" data-value="10">Octubre</button>
                                    <button type="button" data-value="11">Noviembre</button>
                                    <button type="button" data-value="12">Diciembre</button>
                                </div>
                            </div>
                            <input type="text" id="fechaFinAnio" placeholder="AAAA" class="date-input" maxlength="4">
                            <input type="hidden" id="fechaFinMesHidden">
                        </div>
                    </div>
                </div>

                <button type="submit" class="btn-primary">
                    Descargar Reporte
                </button>
            </form>
        </section>
    </main>
</div>

<div id="loadingOverlay" style="display: none;">Generando reporte...</div>
<div id="toast" style="display: none;"></div>

<script src="js/download-panel.js"></script>
</body>
</html>