<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registrar Operaciones</title>
  <link rel="stylesheet" href="styles/user-operations.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap">
</head>
<body>
<div class="operations-container">
  <!-- Barra lateral -->
  <aside class="sidebar">
    <h2>Panel de Usuario</h2>
    <nav>
      <ul>
        <li>
          <button onclick="window.location.href='user-panel.html'">
            <img src="icon/panel_new_user.png" alt="Datos complementarios" class="sidebar-icon">
            Datos complementarios
          </button>
        </li>
        <li>
          <button class="active">
            <img src="icon/panel_download.png" alt="Registrar operaciones" class="sidebar-icon">
            Registrar operaciones
          </button>
        </li>
      </ul>
    </nav>
  </aside>

  <!-- Contenido principal -->
  <main class="operations-content">
    <!-- Encabezado -->
    <header class="admin-header">
      <h1>Bienvenido: <span id="userName"></span></h1>
      <button class="btn-logout" id="logoutBtn">Cerrar sesión</button>
    </header>

    <!-- Sección con pasos tipo wizard -->
    <section class="operations-section">
      <h2>Registrar Operaciones</h2>

      <!-- Barra de pasos -->
      <div class="form-steps">
        <div class="form-step" id="stepIndicator1">
          <div class="step-number">1</div>
          <div class="step-title">Orden/Comercio</div>
        </div>
        <div class="form-step" id="stepIndicator2">
          <div class="step-number">2</div>
          <div class="step-title">Titular Exchange</div>
        </div>
        <div class="form-step" id="stepIndicator3">
          <div class="step-number">3</div>
          <div class="step-title">Tercero/Pago</div>
        </div>
        <div class="form-step" id="stepIndicator4">
          <div class="step-number">4</div>
          <div class="step-title">Datos de Pago</div>
        </div>
      </div>

      <!-- Formulario con 4 pasos -->
      <form class="operations-form" id="operationsForm">
        <!-- Paso 1: Datos de la Orden/Comercio -->
        <div class="step-content" id="step1">
          <h3>Datos de la Orden/Comercio</h3>
          <div class="two-columns">
            <!-- Columna 1 -->
            <div class="column">
              <div class="input-group">
                <label for="canal">Canal:</label>
                <select id="canal" required>
                  <option value="">Seleccione...</option>
                  <option value="P2P">P2P</option>
                  <option value="PAY">PAY</option>
                  <option value="SPOT">SPOT</option>
                </select>
              </div>

              <div class="input-group">
                <label for="exchange">Exchange:</label>
                <select id="exchange" required>
                  <option value="">Seleccione...</option>
                  <option value="BINANCE">BINANCE</option>
                  <option value="OKX">OKX</option>
                  <option value="BYBIT">BYBIT</option>
                  <option value="BITGET">BITGET</option>
                  <option value="KUCOIN">KUCOIN</option>
                  <option value="BINGX">BINGX</option>
                  <option value="EL DORADO">EL DORADO</option>
                  <option value="OTC´S">OTC´S</option>
                </select>
              </div>

              <div class="input-group">
                <label for="ordenNum">Orden N°:</label>
                <input type="number" id="ordenNum" placeholder="Ej. 12345" required>
              </div>

              <div class="input-group">
                <label for="tipoActivo">Tipo de Operación:</label>
                <select id="tipoActivo" required>
                  <option value="">Seleccione...</option>
                  <option value="Compra">Compra</option>
                  <option value="Venta">Venta</option>
                </select>
              </div>

              <div class="input-group">
                <label for="activo">Activo:</label>
                <select id="activo" required>
                  <option value="">Seleccione...</option>
                  <option value="USDT">USDT</option>
                  <option value="USDC">USDC</option>
                  <option value="FDUSD">FDUSD</option>
                  <option value="BTC">BTC</option>
                  <option value="BNB">BNB</option>
                  <option value="ETH">ETH</option>
                  <option value="DOGE">DOGE</option>
                  <option value="ADA">ADA</option>
                  <option value="XRP">XRP</option>
                  <option value="SOL">SOL</option>
                </select>
              </div>
            </div>
            <!-- Columna 2 -->
            <div class="column">
              <div class="input-group">
                <label for="moneda">Moneda:</label>
                <select id="moneda" required>
                  <option value="">Seleccione...</option>
                  <option value="COP">COP</option>
                  <option value="CLP">CLP</option>
                  <option value="ARS">ARS</option>
                  <option value="PEN">PEN</option>
                  <option value="VES">VES</option>
                  <option value="BOL">BOL</option>
                  <option value="BRL">BRL</option>
                  <option value="USD">USD</option>
                  <option value="CAD">CAD</option>
                  <option value="CRC">CRC</option>
                  <option value="DOP">DOP</option>
                  <option value="EUR">EUR</option>
                  <option value="GBP">GBP</option>
                  <option value="GTQ">GTQ</option>
                  <option value="MXN">MXN</option>
                  <option value="PAB">PAB</option>
                  <option value="UYU">UYU</option>
                </select>
              </div>

              <div class="input-group">
                <label for="monto">Monto:</label>
                <input type="number" step="0.01" id="monto" placeholder="Ej. 1.50" required>
              </div>

              <div class="input-group">
                <label for="cantidad">Cantidad:</label>
                <input type="number" id="cantidad" placeholder="Ej. 100" required>
              </div>

              <div class="input-group">
                <label for="total">Total:</label>
                <input type="number" step="0.01" id="total" placeholder="Se calcula automáticamente" readonly>
              </div>


              <div class="input-group">
                <label for="comision">Comisión:</label>
                <input type="number" step="0.01" id="comision" placeholder="Ej. 0.50" required>
              </div>
            </div>
          </div>

          <div class="buttons-group">
            <button type="button" class="btn-primary" id="btnNext1">Siguiente</button>
          </div>
        </div>

        <!-- Paso 2: Datos Titular del Exchange -->
        <div class="step-content" id="step2" style="display: none;">
          <h3>Datos Titular del Exchange</h3>

          <div class="input-group">
            <label for="titularNombre">Nombre Titular:</label>
            <input type="text" id="titularNombre" placeholder="Nombre de quien recibe el dinero" required>
          </div>

          <div class="input-group">
            <label for="titularTipoID">Tipo ID:</label>
            <select id="titularTipoID" required>
              <option value="">Seleccione...</option>
              <option value="CC">Cedula Ciudadania (CC)</option>
              <option value="CE">Cedula Extranjeria (CE)</option>
              <option value="NIT">Numero Identificacion Tributaria (NIT)</option>
              <option value="PS">Pasaporte (PS)</option>
              <option value="NIE">Documento Identificacion Extranjero (NIE)</option>
              <option value="PPT">Permiso Proteccion Temporal (PPT)</option>
              <option value="NIT-E">Numero Tributario Otro Pais (NIT-E)</option>
            </select>
          </div>

          <div class="input-group">
            <label for="titularDocumento">Documento:</label>
            <input type="text" id="titularDocumento" placeholder="Número respectivo del ID" required>
          </div>

          <div class="input-group">
            <label for="titularDireccion">Dirección:</label>
            <input type="text" id="titularDireccion" placeholder="Dirección del titular" required>
          </div>

          <div class="buttons-group">
            <button type="button" class="btn-secondary" id="btnPrev2">Anterior</button>
            <button type="button" class="btn-primary" id="btnNext2">Siguiente</button>
          </div>
        </div>

        <!-- Paso 3: Datos del Tercero/Pago -->
        <div class="step-content" id="step3" style="display: none;">
          <h3>Datos del Tercero / Pago</h3>

          <div class="input-group">
            <label for="terceroNombre">Nombre:</label>
            <input type="text" id="terceroNombre" placeholder="Nombre del tercero" required>
          </div>

          <div class="input-group">
            <label for="terceroTipoID">Tipo ID:</label>
            <select id="terceroTipoID" required>
              <option value="">Seleccione...</option>
              <option value="CC">Cedula Ciudadania (CC)</option>
              <option value="CE">Cedula Extranjeria (CE)</option>
              <option value="NIT">Numero Identificacion Tributaria (NIT)</option>
              <option value="PS">Pasaporte (PS)</option>
              <option value="NIE">Documento Identificacion Extranjero (NIE)</option>
              <option value="PPT">Permiso Proteccion Temporal (PPT)</option>
              <option value="NIT-E">Numero Tributario Otro Pais (NIT-E)</option>
            </select>
          </div>

          <div class="input-group">
            <label for="terceroDocumento">Documento:</label>
            <input type="text" id="terceroDocumento" placeholder="Número del documento" required>
          </div>

          <div class="buttons-group">
            <button type="button" class="btn-secondary" id="btnPrev3">Anterior</button>
            <button type="button" class="btn-primary" id="btnNext3">Siguiente</button>
          </div>
        </div>

        <!-- Paso 4: Datos de Pago -->
        <div class="step-content" id="step4" style="display: none;">
          <h3>Datos de Pago</h3>

          <div class="input-group">
            <label for="cuentaOrigen">Cuenta Origen:</label>
            <input type="text" id="cuentaOrigen" placeholder="La cuenta del usuario" readonly>
          </div>



          <div class="input-group">
            <label for="cuentaDestino">Cuenta Destino:</label>
            <input type="number" id="cuentaDestino" placeholder="Número de cuenta destino" required>
          </div>

          <div class="input-group">
            <label for="referenciaPago">Referencia:</label>
            <input type="text" id="referenciaPago" placeholder="Referencia del pago" required>
          </div>

          <div class="input-group">
            <label for="estadoPago">Estado:</label>
            <input type="text" id="estadoPago" placeholder="Estado del pago" required>
          </div>

          <div class="input-group">
            <label for="fechaPago">Fecha:</label>
            <input type="date" id="fechaPago" required>
          </div>

          <div class="buttons-group">
            <button type="button" class="btn-secondary" id="btnPrev4">Anterior</button>
            <button type="submit" class="btn-primary" id="btnRegistrar">Registrar Operación</button>
          </div>
        </div>
      </form>
    </section>
  </main>
</div>

<!-- Overlay y spinner -->
<div id="loadingOverlay" class="loading-overlay" style="display: none;">
  <div class="spinner"></div>
  <p>Registrando operación...</p>
</div>

<!-- Overlay de éxito -->
<div id="successOverlay" class="success-overlay" style="display: none;">
  <div class="success-content">
    <img src="icon/check.png" alt="Success Check" class="success-icon">
    <h2>¡Operación registrada con éxito!</h2>
  </div>
</div>

<!-- Toast de notificación -->
<div id="toast" class="toast" style="display: none;"></div>

<!-- Script principal -->
<script src="js/user-operations.js"></script>
</body>
</html>
