<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <title>Panel de Usuario</title>
    <link rel="stylesheet" href="styles/user-panel.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>
<body>
<div class="user-container">
    <!-- Barra lateral -->
    <aside class="user-sidebar">
        <h2>Panel de Usuario</h2>
        <nav>
            <ul>
                <li>
                    <button class="active" id="btnDatos">
                        <img src="icon/panel_new_user.png" alt="Datos complementarios" class="sidebar-icon" />
                        Datos complementarios
                    </button>
                </li>
                <li>
                    <button id="btnOperaciones">
                        <img src="icon/panel_download.png" alt="Registrar operaciones" class="sidebar-icon" />
                        Registrar operaciones
                    </button>
                </li>
                <li>
                    <!-- Nuevo botón para Historial -->
                    <button onclick="window.location.href='user-history-operations.html'">
                        <img src="icon/history-icon.png" alt="Historial" class="sidebar-icon">
                        Historial operaciones
                    </button>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Contenido principal -->
    <main class="user-content">
        <header class="user-header">
            <h1 id="userName"></h1>
            <button class="btn-logout" id="logoutBtn">Cerrar sesión</button>
        </header>

        <section class="user-section">
            <h2>Datos Complementarios</h2>
            <form class="user-form" id="datosForm">
                <!-- Nombre completo -->
                <div class="input-group">
                    <label for="fullName">Nombre completo</label>
                    <input
                            type="text"
                            id="fullName"
                            placeholder="Ej. Juan Perez"
                            required
                    />
                </div>

                <!-- Código de país + bandera -->
                <!-- Agrupación en la misma fila -->
                <div class="phone-row">
                    <!-- Bloque para el código de país -->
                    <div class="input-group phone-code">
                        <label for="countryCode">Código de país</label>
                        <div class="country-code-wrapper">
                            <div class="flag-container" id="flagContainer">
                                <img id="countryFlag" src="icon/flags/co.png" alt="Flag" />
                            </div>
                            <select id="countryCode">
                                <option value="+57" data-flag="co.png" selected>+57 (CO)</option>
                                <option value="+51" data-flag="pe.png">+51 (PE)</option>
                                <option value="+52" data-flag="mx.png">+52 (MX)</option>
                                <option value="+1" data-flag="us.png">+1 (US)</option>
                                <option value="+34" data-flag="es.png">+34 (ES)</option>
                            </select>
                        </div>
                    </div>

                    <!-- Bloque para el número de teléfono -->
                    <div class="input-group phone-number">
                        <label for="phoneNumber">Número de teléfono</label>
                        <input
                                type="text"
                                id="phoneNumber"
                                placeholder="900100200"
                                required
                        />
                    </div>
                </div>

                <!-- Número de cuenta -->
                <div class="input-group">
                    <label for="accountNumber">Número de cuenta</label>
                    <input
                            type="text"
                            id="accountNumber"
                            placeholder="Ej. 100200300400500"
                            required
                    />
                </div>

                <!-- Fecha de nacimiento -->
                <div class="input-group date-birth-group">
                    <label for="birthDate">Fecha de nacimiento</label>
                    <div class="date-separate">
                        <input type="number" id="birthDia" placeholder="DD" min="1" max="31" class="date-input" />
                        <div class="custom-month-select">
                            <button type="button" class="custom-month-trigger">
                                <span id="selectedBirthMonth">MM</span>
                               
                            </button>
                            <div class="custom-month-dropdown">
                                <button type="button" data-value="1">Enero</button>
                                <button type="button" data-value="2">Febrero</button>
                                <button type="button" data-value="3">Marzo</button>
                                <button type="button" data-value="4">Abril</button>
                                <button type="button" data-value="5">Mayo</button>
                                <button type="button" data-value="6">Junio</button>
                                <button type="button" data-value="7">Julio</button>
                                <button type="button" data-value="8">Agosto</button>
                                <button type="button" data-value="9">Septiembre</button>
                                <button type="button" data-value="10">Octubre</button>
                                <button type="button" data-value="11">Noviembre</button>
                                <button type="button" data-value="12">Diciembre</button>
                            </div>
                        </div>
                        <input type="number" id="birthAnio" placeholder="AAAA" min="1900" max="2100" class="date-input" />
                    </div>
                    <input type="hidden" id="birthMesHidden" name="birthMes">
                </div>

                <!-- Botón de enviar -->
                <button type="submit" class="btn-primary">
                    Actualizar datos
                </button>
            </form>
        </section>
    </main>
</div>

<!-- Overlay de carga -->
<div id="loadingOverlay" class="loading-overlay" style="display: none;">
    <div class="spinner"></div>
    <p>Actualizando datos...</p>
</div>

<!-- Toast de notificación -->
<div id="toast" class="toast" style="display: none;"></div>

<!-- Script -->
<script src="js/user-panel.js"></script>
</body>
</html>